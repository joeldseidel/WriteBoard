//TODO: implement the magic in here